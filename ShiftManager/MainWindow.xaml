<Window x:Class="ShiftManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ShiftManager"
        xmlns:pages="clr-namespace:ShiftManager.Pages"
        xmlns:sys="clr-namespace:System;assembly=System.Runtime"
        d:DataContext="{x:Type local:MainWindowViewModel}"
        mc:Ignorable="d"
        Title="MainWindow"
        FontFamily="BIZ UDPGothic"
        Height="600"
        Width="800">
  <Window.Resources>
    <sys:Double x:Key="FontSize_Title">24</sys:Double>

    <Style TargetType="Button">
      <Setter Property="Padding" Value="5"/>
      <Setter Property="Margin" Value="5"/>
    </Style>
  </Window.Resources>
  <Grid>
    <Grid.ColumnDefinitions>
      <!--メニューのGridをCollapsedにすると, Frame部か最大幅になります-->
      <ColumnDefinition Width="auto"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="56"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <Frame
      x:Name="MainFrame"
      NavigationUIVisibility="Hidden"
      Grid.Row="1"
      Grid.Column="1"/>

    <Grid Grid.Row="0"
          Grid.Column="0"
          Grid.ColumnSpan="2"
          Background="DarkGray">

      <Grid HorizontalAlignment="Right" Margin="5">
        <TextBlock>
          <TextBlock.Text>
            <MultiBinding StringFormat="ようこそ {0} {1} さん!">
              <Binding Path="UserName.Value.LastName"/>
              <Binding Path="UserName.Value.FirstName"/>
            </MultiBinding>
          </TextBlock.Text>
        </TextBlock>

        <Button Content="ログアウト"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"/>
      </Grid>
    </Grid>

    <!--ページ選択用ボタン群表示用-->
    <Grid
      Width="{Binding ElementName=TitleStackPanel, Path=ActualWidth}"
      Grid.Row="0"
      Grid.Column="0"
      Grid.RowSpan="2"
      Background="LightGray"
      HorizontalAlignment="Left"
      VerticalAlignment="Stretch">

      <StackPanel Margin="0,60,0,0">
        <Button Content="HOME" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Null}"/>
        <Button Content="シフト希望登録" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:ShiftRequestManagePage}"/>
        <Button Content="予定シフト表示" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:ScheduledShiftCheckPage}"/>
        <Button Content="勤務実績表示" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:WorkLogCheckPage}"/>
        <Button Content="シフト印刷" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:ShiftPrintPage}"/>
        <Button Content="ユーザ設定" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:UserSettingPage}"/>

        <Line Stroke="Black"
              StrokeThickness="2"
              Margin="0,5"
              X2="{Binding RelativeSource={RelativeSource Mode=Self}, Path=ActualWidth}"/>

        <!--#region 管理者用ボタン群  権限が無いなら表示しない-->
        <Button Content="予定シフト作成" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:ScheduledShiftManagePage}"/>
        <Button Content="新規従業員追加" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:SignUpPage}"/>
        <Button Content="データ管理" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:DataManagePage}"/>
        <Button Content="勤怠登録モード" Command="{Binding MainFramePageChanger}" CommandParameter="{x:Type pages:WorkTimeRecordPage}"/>
        <!--#endregion-->
      </StackPanel>

    </Grid>
    
    <StackPanel
      Name="TitleStackPanel"
      Grid.Row="0"
      Grid.Column="0"
      Grid.ColumnSpan="2"
      HorizontalAlignment="Left"
      Orientation="Horizontal">
      <Button
        Content="≡"
        HorizontalAlignment="Left"
        VerticalAlignment="Center"/>

      <TextBlock
        Text="Shift Manager"
        VerticalAlignment="Center"
        Margin="4"
        Padding="5"
        FontSize="{StaticResource FontSize_Title}"/>
    </StackPanel>

  </Grid>
</Window>
